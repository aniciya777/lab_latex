\chapter{Масштабирование интегральных схем и основные условия его проведения}

\section{Основные термины}

\textit{Микроэлектроника} --- это раздел электроники, охватывающий исследования, разработку и применение интегральных микросхем.

\textit{Интегральная микросхема} (или просто интегральная схема) –-- это совокупность большого количества взаимосвязанных компонентов (транзисторов, диодов, резисторов, конденсаторов и т.п.), изготовленных в едином технологическом цикле на одной подложке и выполняющих определённую функцию преобразования информации.

Термин «интегральная схема» отражает факт объединения (интеграции) отдельных деталей (компонентов) в конструктивно единый прибор, а также факт усложнения выполняемых этим прибором функций по
сравнению с функциями дискретных компонентов.

Классификация ИС может проводиться по различным признакам, но можно ограничиться лишь одним. По способу изготовления различают два главных вида схем: полупроводниковые и плёночные.

\textit{Полупроводниковая ИС} --- это микросхема, элементы которой выполнены в приповерхностном слое полупроводниковой подложки. Полупроводниковые ИС, как отмечалось ранее, составляют основу современной элементной базы электроники.

\textit{Плёночная ИС} --- это микросхема, элементы которой выполнены в виде разного рода плёнок, нанесённых на поверхность диэлектрической подложки. В зависимости от способа нанесения плёнок и связанной с этим
толщины различают \textit{тонкопленочные} (толщина плёнки 1–2~мкм) и \textit{толстопленочные} интегральные схемы (толщина плёнок 10–20~мкм и более).
Поскольку плёночные ИС, как правило, не позволяют выполнить активные элементы, то их дополняют этими компонентами, соединяя с плёночными элементами посредством выводов. Тогда получается ИС, называемая \textit{гибридной}.

\section{Масштабирование интегральных схем}

Чтобы оценить прогресс, попробуем найти зримые образы для сравнения процессора 4004 с современным Intel~Core~i9. Если уподобить частоту 4004, равную 740~КГц, скорости пешехода, то тогда нынешняя 5,3~ГГц окажется примерно 100~тыс.~км/ч, что в 2,5~раза выше второй космической скорости, достаточной для выхода с орбиты вокруг Земли. Пятьдесят лет назад ширина проводников 4004 составляла 10~микрон (то есть их можно было рассмотреть через обычную лупу), а в нынешних процессорах она равна 14~нанометрам, эти два показателя соотносятся как длина супертанкера и один шаг пешехода. Но ещё больше впечатляет сравнение по числу транзисторов: 2300 и порядка 10~миллиардов — то есть вначале оно было равно населению райцентра, а сегодня это в 1,5~раза больше населения земного шара. И наконец, число контактов на разъёме — оно возросло с 16 до 1440. Такого беспрецедентного количественного роста технических параметров не знала ни одна отрасль.

Все эти ускорения и уменьшения стали возможны за счёт явления, получившего название «масштабирование», которое придаёт компьютерным технологиям уникальные качества, отличающие их от всех остальных, позволяя варьировать показатели в самых широких диапазонах, причём не в разы, как бывает в авиации или машиностроении, а на порядки. Можно говорить о двух уровнях масштабирования — микро и макро. Микроуровень, или миниатюризацию полупроводников, обычно связывают с законом Мура, а точнее, следует говорить о масштабировании по Деннарду (MOSFET scaling by R. Dennard), а макроуровень — это наращивание мощности систем.

Масштабирование на макроуровне возможно \textit{по вертикали} (scale up) и \textit{по горизонтали} (scale out), последнее получило распространение вместе с появлением кластеров и других систем, состоящих из множества однородных узлов. Массовое внедрение компактных серверов (в том числе, блейд-серверов) в сочетании с кластерными решениями открыло возможность для создания гигантских конфигураций, и начался процесс, охваченный положительной обратной связью: большие системы позволяют работать с большими объёмами данных, а почувствовав вкус, потребители требуют создания ещё больших систем и т.д.

Необходимость в макромасштабировании связана со следующими факторами:
\begin{itemize}
	\item рост нагрузок --- система должна справляться с постоянным увеличением числа пользователей;
	\item рост объёма данных --- система должна справляться с неуклонным накоплением данных;
	\item рост производительности --- система должна без серьёзной перестройки допускать наращивание производительности.
\end{itemize}

В системах с вертикальным масштабированием наращивание происходит органично, и до появления альтернативного подхода о возникающих сложностях не задумывались — достаточно было увеличивать мощность процессора, размер памяти и систем хранения, скорость обмена по каналам. Если же ядер много, то возникает проблема \textit{декомпозиции} (partitioning) по узлам: можно, например, делить их по функциональному принципу — поделить одну задачу на некоторое количество подзадач, работающих на общий массив данных, но связанность по данным является ограничением по масштабированию. Разумнее добавить к \textit{функциональной декомпозиции} ещё и \textit{декомпозицию данных}. Множество современных проблем в ИТ — например, то, что наблюдается сегодня в СУБД, — объясняется необходимостью перехода от вертикального масштабирования к горизонтальному.

Теперь обратимся к микроуровню. Хорошо известно, что статья с описанием тенденции удвоения плотности транзисторов на кремниевой подложке была опубликована Гордоном~Муром в 1965~году, а чуть позже изобретатель метода проектирования электронных микросхем профессор Калифорнийского технологического института Карвер~Мид назвал эту тенденцию законом~Мура. Менее известно, что существует объясняющая закон Мура \textbf{теория масштабирования} (Dennard's Scaling Theory), разработанная в 1974~году Робертом~Деннардом и его коллегами по IBM. Сам Деннард, несмотря на свои достижения, никогда не стремился к публичности и уже более 60~лет бессменно работает в IBM, набрав за это время на свой счёт немало изобретений и открытий, самое известное из которых было сделано им в 1968~году --- это изобретение динамической памяти с произвольным доступом (Dynamic Random Access Memory, DRAM). Работая над полевыми транзисторами MOSFET (Metal-Oxide-Semiconductor Field Effect Transistor) и структурами MOS (Metal-Oxide-Semiconductor), Деннард вывел условие, необходимое для соблюдения закона Мура. Суть открытия в том, что если удерживать постоянным значение напряжённости электрического поля при уменьшении размеров транзистора, то параметры производительности улучшаются. Это значит, что если, например, сократить длину затвора в $ n $ раз и одновременно во столько же раз понизить рабочее напряжение (значение напряжённости при этом не изменится), время задержки логического элемента также уменьшится в $ n $ раз. Отсюда и жёсткая зависимость производительности от размеров элементов интегральных микросхем. Масштабирование MOSFET называют двигателем технологий больших интегральных схем (VLSI).

Теория масштабирования впервые была изложена в статье «Проектирование МОП-структур с ионной имплантацией и очень малыми физическими размерностями» (“Design of Ion-Implanted MOSFET’s with Very Small Physical Dimensions”), опубликованной в 1974~году. Статья заслужила имя собственное --- ее называют \textit{Scaling Paper} (статья о масштабировании), а её появлению предшествовало десятилетие активных исследований, в результате которых биполярные точечные транзисторы со структурами обратной проводимости (n-p-n) и структурами прямой проводимости (p-n-p), изобретенные еще в 1947~году, уступили место полевым транзисторам с p-n переходом и изолированным затвором (MOSFET). Последние имели гораздо больший потенциал для миниатюризации — они стали использоваться при реализации логики и для памяти многочисленными компаниями. В те годы в IBM было решено отказаться от развития ферритовой плёночной памяти в пользу полупроводниковой, а работу в этой области возглавил Деннард, главной задачей которого было найти такое решение, которое позволило бы закрыть разрыв по стоимости между очень дорогой памятью на магнитных сердечниках и приемлемой по цене памятью на дисках. Из-за этого разрыва компьютеры были очень несбалансированными: скажем, мини-ЭВМ PDP~11-70 имела достойную производительность, комплектовалась вполне приличными по тем временам дисками по 100–200~Мбайт, но при этом --- жалкой оперативной памятью в 128~Кбайт. Даже самые первые платы полупроводниковой памяти уже имели ёмкость, измеряемую мегабайтами, что принципиально меняло условия игры --- такая память была в 100–1000~раз дешевле ферритовой. Просто заменой памяти удавалось заметно повысить производительность.

В процессе исследований Деннарда удалось показать, что МОП-структуры имеют огромный потенциал для миниатюризации --- при уменьшении линейных размеров можно пропорционально уменьшать подаваемое на затвор напряжение, и при этом переключающие свойства транзистора сохраняются, а скорость переключения повышается. Из этого следовало предсказание, определившее будущее технологий на несколько десятилетий, --- для повышения производительности надо повышать плотность, частоту и снижать энергопотребление. Статья о масштабировании не только объяснила закон Мура, но и расширила его --- в самом законе говорится о повышении плотности, но не о производительности. Заслуга Роберта~Деннарда в том, что он соотнёс масштабирование с производительностью, и если Гордон~Мур задал вектор для развития полупроводниковой индустрии, то Деннард объяснил, каким именно способом следует двигаться в его направлении. С тех пор постоянно уменьшающаяся ширина (технологический фактор) проводника стала главным показателем прогресса.

Заслуги Роберта~Деннарда признаны и оценены, в 2007~году вышел специальный номер журнала IEEE Solid-State Circuits Society News под общим заголовком «Влияние и последствия теории масштабирования Деннарда». В номере было опубликовано несколько статей с оценкой роли теории масштабирования и её автора в истории индустрии ИТ, и в оригинале была воспроизведена сама легендарная статья. За год до этого был напечатан специальный выпуск IEEE SSCS, посвящённый закону Мура, и таким образом была восстановлена историческая справедливость — в статье одного из авторов подчёркивается, что наряду с законом Мура надо говорить и о законе Деннарда.


